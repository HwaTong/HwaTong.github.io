(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70027345"],{1525:function(t,e,i){"use strict";i("1dcd")},"1dcd":function(t,e,i){},2513:function(t,e,i){},"2a42":function(t,e,i){"use strict";i("abb9")},"2bf0":function(t,e,i){"use strict";i("88f9")},4182:function(t,e,i){},"4fff":function(t,e,i){"use strict";i("2513")},"88f9":function(t,e,i){},"8ba8":function(t,e,i){},"9bd0":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tab-control"},t._l(t.items,(function(e,n){return i("div",{staticClass:"tab-control-item",class:{active:t.activeitem===n},on:{click:function(e){return t.itemclick(n)}}},[i("span",[t._v(t._s(e))])])})),0)},a=[],c={name:"TabControl",props:{items:{type:Array,default:function(){return[]}}},data:function(){return{activeitem:0}},methods:{itemclick:function(t){this.activeitem=t,this.$emit("tabclick",t)}}},s=c,o=(i("2a42"),i("2877")),r=Object(o["a"])(s,n,a,!1,null,"63e7d29b",null);e["a"]=r.exports},a490:function(t,e,i){},abb9:function(t,e,i){},bb51:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"category"}},[i("nav-bar",{staticClass:"category-nav-bar"},[i("div",{attrs:{slot:"center"},slot:"center"},[t._v("商品分类")])]),i("div",{staticClass:"content"},[i("left-content",{attrs:{list:t.leftList}}),i("right-content",{attrs:{item:t.showitem}})],1)],1)},a=[],c=i("a7ac"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left-content"},[i("scroll",{ref:"scroll",staticClass:"content",attrs:{"probe-type":3}},t._l(t.list,(function(e){return i("left-content-item",{key:e.maitKey,attrs:{item:e},on:{click:function(i){return t.itemClick(e)}}})})),1)],1)},o=[],r=i("5d17"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"left-content-item",class:{clicked:t.item.title==t.clickName},on:{click:t.click}},[i("div",{staticClass:"title"},[t._v(t._s(t.item.title))])])},u=[],f=i("5530"),d=i("2f62"),m={name:"LeftContentItem",props:{item:{type:Object,default:function(){return{}}}},computed:Object(f["a"])({},Object(d["c"])({clickName:"clickName"})),methods:{click:function(){this.$store.commit("clickName",this.item.title),this.$bus.$emit("getShowItem",this.item)}},created:function(){console.log(this.clickName)}},h=m,p=(i("4fff"),i("2877")),g=Object(p["a"])(h,l,u,!1,null,"2f54733d",null),b=g.exports,v={name:"LeftContent",props:{list:{type:Array,default:function(){return[]}}},data:function(){return{clickname:"正在流行"}},components:{Scroll:r["a"],LeftContentItem:b}},y=v,k=(i("fdea"),Object(p["a"])(y,s,o,!1,null,"33d1c136",null)),C=k.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"right-content"},[i("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.fixed,expression:"fixed"}],ref:"tabControl1",staticClass:"control1",attrs:{items:["综合","销量","新品"]},on:{tabclick:t.clickindex}}),i("scroll",{ref:"scroll",staticClass:"content",attrs:{"probe-type":3},on:{position:t.getposition,loadmore:t.toloadmore}},[i("right-grid-view",{attrs:{item:t.item},on:{gridImageLoad:t.gridImageLoad}}),i("tab-control",{ref:"tabControl2",attrs:{items:["综合","销量","新品"]},on:{tabclick:t.clickindex}}),i("goods-list",{attrs:{goods:t.goodsList}})],1),i("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isback,expression:"isback"}],nativeOn:{click:function(e){return t.back2top(e)}}})],1)},_=[],L=(i("c7cd"),i("9bd0")),x=i("6d71"),$=i("eecb"),O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.gridList?i("grid-view",{staticClass:"grid-view",attrs:{cols:3,lineSpace:15,"v-margin":20}},t._l(t.gridList,(function(e,n){return i("div",{key:n,staticClass:"item"},[i("a",{attrs:{href:e.link}},[i("img",{staticClass:"item-img",attrs:{src:e.image,alt:""},on:{load:t.gridImageLoad}}),i("div",{staticClass:"item-text"},[t._v(t._s(e.title))])])])})),0):t._e()},j=[],N=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"gridView",staticClass:"grid-view"},[t._t("default")],2)},S=[],T=(i("a9e3"),i("99af"),{name:"GridView",props:{cols:{type:Number,default:2},hMargin:{type:Number,default:8},vMargin:{type:Number,default:8},itemSpace:{type:Number,default:8},lineSpace:{type:Number,default:8}},mounted:function(){setTimeout(this._autoLayout,20)},updated:function(){this._autoLayout()},methods:{_autoLayout:function(){var t=this.$refs.gridView,e=t.children;t.style.padding="".concat(this.vMargin,"px ").concat(this.hMargin,"px");for(var i=(t.clientWidth-2*this.hMargin-(this.cols-1)*this.itemSpace)/this.cols,n=0;n<e.length;n++){var a=e[n];a.style.width=i+"px",(n+1)%this.cols!==0&&(a.style.marginRight=this.itemSpace+"px"),n>=this.cols&&(a.style.marginTop=this.lineSpace+"px")}}}}),I=T,G=(i("f852"),Object(p["a"])(I,N,S,!1,null,"1ef07796",null)),E=G.exports,M=i("1bab");function V(){return Object(M["a"])({url:"/category"})}function R(t){return Object(M["a"])({url:"/subcategory",params:{maitKey:t}})}function W(t,e){return Object(M["a"])({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}var D={name:"RightGridView",props:{item:{type:Object,default:function(){return{}}}},data:function(){return{gridList:[]}},components:{GridView:E},created:function(){var t=this;setTimeout((function(){t.getGridList()}),200)},methods:{getGridList:function(){var t=this;R(this.item.maitKey).then((function(e){console.log(e),t.gridList=e.data.list}))},gridImageLoad:function(){this.$emit("gridImageLoad")}},watch:{item:function(){this.getGridList()}}},K=D,A=(i("ffb7"),Object(p["a"])(K,O,j,!1,null,"5a3a189c",null)),B=A.exports,J={name:"RightContent",props:{item:{type:Object,default:function(){return{}}}},data:function(){return{currentitem:"pop",goodsList:[],fixed:!1,tabControlTop:0}},components:{Scroll:r["a"],TabControl:L["a"],GoodsList:x["a"],RightGridView:B},mixins:[$["a"]],created:function(){var t=this;setTimeout((function(){t.clickindex(0)}),1e3)},computed:{miniWallkey:function(){return this.item.miniWallkey}},methods:{gridImageLoad:function(){this.tabControlTop=this.$refs.tabControl2.$el.offsetTop},clickindex:function(t){switch(t){case 0:this.currentitem="pop";break;case 1:this.currentitem="new";break;case 2:this.currentitem="sell";break}this.getCategoryDetail(),this.$refs.tabControl1.activeitem=t,this.$refs.tabControl2.activeitem=t},getCategoryDetail:function(){var t=this;W(this.miniWallkey,this.currentitem).then((function(e){t.goodsList=e}))},toloadmore:function(){this.getCategoryDetail(),this.$refs.scroll.finishPullUp()},getposition:function(t){t=-t.y,this.isShowBackTop(t),this.fixed=t>this.tabControlTop}},watch:{item:function(){this.getCategoryDetail()}}},P=J,U=(i("1525"),Object(p["a"])(P,w,_,!1,null,"3d64665a",null)),q=U.exports,z={name:"Category",data:function(){return{leftList:[],showitem:{}}},components:{NavBar:c["a"],LeftContent:C,RightContent:q},created:function(){this.getCategoryMultidata()},mounted:function(){var t=this;this.$bus.$on("getShowItem",(function(e){t.showitem=e}))},methods:{getCategoryMultidata:function(){var t=this;V().then((function(e){t.leftList=e.data.category.list,t.showitem=t.leftList[0],console.log(e)}))}}},F=z,H=(i("2bf0"),Object(p["a"])(F,n,a,!1,null,"6597786c",null));e["default"]=H.exports},c7cd:function(t,e,i){"use strict";var n=i("23e7"),a=i("857a"),c=i("af03");n({target:"String",proto:!0,forced:c("fixed")},{fixed:function(){return a(this,"tt","","")}})},f852:function(t,e,i){"use strict";i("8ba8")},fdea:function(t,e,i){"use strict";i("4182")},ffb7:function(t,e,i){"use strict";i("a490")}}]);
//# sourceMappingURL=chunk-70027345.bcd3b68b.js.map